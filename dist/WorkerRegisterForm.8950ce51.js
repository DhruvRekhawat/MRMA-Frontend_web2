import{j as e,C as j,a as F,b as P,B as i,c as O,d as T}from"./chunks/index.d3e96f18.js";import{r as $}from"./chunks/index.ae4d9e2b.js";import{o as u,s as o,d as R,u as k,I as B,F as I,a as t,b as a,c as l,e as x,f as c,g as n,$ as D,h as V,i as M,j as W,C as E,S as b,k as f,l as y,m as g,n as p,t as L,_ as N}from"./chunks/index.3feccfa2.js";const _=()=>N.success("Form Submitted Successfully! Please check your mobile number for OTP"),z=()=>N.error("Error Registering User"),A=u({email:o(),name:o(),mobileNumber:o(),address:u({street:o(),city:o(),state:o(),pincode:o()}),dob:R(),gender:o(),company:o(),photo:o(),aadharCard:o(),labourCard:o(),userRole:o(),categoriesOfWork:o()});function q(){const[C,S]=$.exports.useState(!1);function w(){S(!0)}const r=k({resolver:L(A),defaultValues:{email:"",name:"",gender:"",dob:new Date,address:{street:"",city:"",pincode:"",state:""},mobileNumber:"",photo:"",aadharCard:"",labourCard:"",company:"",categoriesOfWork:"",userRole:"worker"}});async function v(s){const d=s;try{const h=await(await fetch("http://localhost:5000/user/register",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(d)})).json();console.log(h.message),h&&(_(),w())}catch(m){console.error(m),z()}}return e.exports.jsxs(j,{className:"md:p-16 px-4 py-8 mx-auto my-2 md:w-2/3 w-full bg-gray-800 flex flex-col justify-center items-center ",children:[C?e.exports.jsxs(j,{className:"bg-slate-900 p-8 flex flex-col justify-center items-center text-white fixed bottom-[50vh]",children:[e.exports.jsx(F,{children:"Input OTP"}),e.exports.jsx(P,{className:"my-2",children:"OTP has been sent to your registered mobile number."}),e.exports.jsx(B,{}),e.exports.jsx(i,{className:"w-full my-4",children:"Submit"})]}):e.exports.jsx("div",{}),e.exports.jsx(I,{...r,children:e.exports.jsxs("form",{onSubmit:r.handleSubmit(v),className:" w-full",children:[e.exports.jsx(t,{control:r.control,name:"name",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Full Name"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"dob",render:({field:s})=>e.exports.jsxs(a,{className:"flex flex-col",children:[e.exports.jsx(l,{children:"Date of birth"}),e.exports.jsxs(D,{children:[e.exports.jsx(V,{asChild:!0,children:e.exports.jsx(x,{children:e.exports.jsxs(i,{variant:"outline",className:O("w-full pl-3 text-left font-normal bg-gray-300 h-12",!s.value&&"text-muted-foreground"),children:[s.value?M(s.value,"PPP"):e.exports.jsx("span",{children:"Date Of Birth"}),e.exports.jsx(T,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.exports.jsx(W,{className:"w-auto p-0",align:"start",children:e.exports.jsx(E,{mode:"single",selected:s.value,onSelect:s.onChange,disabled:d=>d>new Date||d<new Date("1900-01-01"),initialFocus:!0})})]}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"gender",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Gender"}),e.exports.jsxs(b,{onValueChange:s.onChange,defaultValue:s.value,children:[e.exports.jsx(x,{children:e.exports.jsx(f,{className:"w-full bg-gray-300 h-12",children:e.exports.jsx(y,{placeholder:""})})}),e.exports.jsxs(g,{className:"bg-white",children:[e.exports.jsx(p,{value:"Male",children:"Male"}),e.exports.jsx(p,{value:"Female",children:"Female"}),e.exports.jsx(p,{value:"Non-Binary",children:"Non-Binary"}),e.exports.jsx(p,{value:"Rather Not Say",children:"Rather not say"})]})]})]})}),e.exports.jsx(t,{control:r.control,name:"address.street",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Street"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"address.city",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"City"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"address.pincode",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Pincode"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"address.state",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"State"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"company",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Company"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"email",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Email"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"mobileNumber",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Phone Number"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"photo",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Photo"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0",type:"file"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"aadharCard",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Aadhar Card"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0",type:"file"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"labourCard",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Labour Card"}),e.exports.jsx(x,{children:e.exports.jsx(c,{placeholder:"",...s,className:"m-0",type:"file"})}),e.exports.jsx(n,{})]})}),e.exports.jsx(t,{control:r.control,name:"categoriesOfWork",render:({field:s})=>e.exports.jsxs(a,{children:[e.exports.jsx(l,{children:"Category of Work"}),e.exports.jsxs(b,{onValueChange:s.onChange,defaultValue:s.value,children:[e.exports.jsx(x,{children:e.exports.jsx(f,{className:"w-full bg-gray-300 h-12",children:e.exports.jsx(y,{placeholder:""})})}),e.exports.jsxs(g,{className:"bg-white",children:[e.exports.jsx(p,{value:"Male",children:"Male"}),e.exports.jsx(p,{value:"Female",children:"Female"}),e.exports.jsx(p,{value:"Non-Binary",children:"Non-Binary"}),e.exports.jsx(p,{value:"Rather Not Say",children:"Rather not say"})]})]})]})}),e.exports.jsx(i,{type:"submit",size:"lg",className:"my-4 w-full",children:"Submit"})]})})]})}export{q as default};
